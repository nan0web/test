Debugger listening on ws://127.0.0.1:50062/8c66926e-2c1f-4c9e-9f8a-6e57331b65e5
For help, see: https://nodejs.org/en/docs/inspector
Debugger attached.
â–¶ DatasetParser
  âœ” should parse a markdown text into dataset entries (30.177459ms)
  âœ” should return empty array for markdown without instructions (0.948542ms)
âœ” DatasetParser (32.204375ms)
Waiting for the debugger to disconnect...
Debugger listening on ws://127.0.0.1:50061/92b61607-a8f4-4f6c-b041-4a1aa54b7860
For help, see: https://nodejs.org/en/docs/inspector
Debugger attached.
â–¶ DocsParser
  âœ” should parse a function (3.091416ms)
âœ” DocsParser (6.041583ms)
Waiting for the debugger to disconnect...
Debugger listening on ws://127.0.0.1:50067/f39b6f5f-a0d3-42e9-8815-5409884efb03
For help, see: https://nodejs.org/en/docs/inspector
Debugger attached.
â–¶ TapParser
  âœ” should decode a simple TAP output correctly (1.599875ms)
  âœ” should encode a simple tree back to TAP output (0.406584ms)
  âœ” should decode subtests correctly (0.307708ms)
  âœ” should encode subtests correctly (2.383875ms)
  âœ” should parse file node:test-output.txt (3.366125ms)
  âœ” should handle empty lines in TAP output (1.158625ms)
âœ” TapParser (10.52225ms)
Waiting for the debugger to disconnect...
Debugger listening on ws://127.0.0.1:50066/f8bd248b-c9a2-40d8-87f0-8cc4febc60e8
For help, see: https://nodejs.org/en/docs/inspector
Debugger attached.
â–¶ TestNode
  âœ” should correctly parse TAP version (1.395583ms)
  âœ” should return 0 for missing TAP version (0.443041ms)
  âœ” should correctly parse test counts (1.008792ms)
  âœ” should calculate duration in seconds correctly (0.215333ms)
  âœ” should handle missing duration_ms gracefully (0.17175ms)
  âœ” should find prefixed content correctly (0.381666ms)
âœ” TestNode (6.125584ms)
Waiting for the debugger to disconnect...
Debugger listening on ws://127.0.0.1:50064/488546dd-a91d-4b79-b19c-a5cbdf164333
For help, see: https://nodejs.org/en/docs/inspector
Debugger attached.
ï¹£ VitestParser (0.487584ms) # SKIP
Waiting for the debugger to disconnect...
Debugger listening on ws://127.0.0.1:50063/1148b83d-86c4-45ca-8d1d-2326c8c0fb4c
For help, see: https://nodejs.org/en/docs/inspector
Debugger attached.
â–¶ RRS
  âœ” should create an RRS instance with default values (1.86175ms)
  âœ” should create an RRS instance with custom values (0.169292ms)
  âœ” should calculate percentage correctly (0.203542ms)
  âœ” should return missing properties with icons (0.271583ms)
  âœ” should return status icon based on percentage (0.221833ms)
  âœ” should return coverage status with icon (0.205ms)
  âœ” should create RRS instance from existing RRS instance (0.097125ms)
  âœ” should create new RRS instance from plain object (0.21275ms)
âœ” RRS (4.010375ms)
â–¶ RRSRequired
  âœ” should create an RRSRequired instance with default values (0.678166ms)
  âœ” should create an RRSRequired instance with custom values (0.2325ms)
  âœ” should return icons for required fields (0.062417ms)
  âœ” should create RRSRequired instance from existing instance (0.066125ms)
  âœ” should create new RRSRequired instance from plain object (0.05875ms)
âœ” RRSRequired (1.236291ms)
â–¶ RRSOptional
  âœ” should create an RRSOptional instance with default values (0.559625ms)
  âœ” should create an RRSOptional instance with custom values (0.066ms)
  âœ” should return icons for optional fields (0.0465ms)
  âœ” should create RRSOptional instance from existing instance (0.039041ms)
  âœ” should create new RRSOptional instance from plain object (0.045583ms)
âœ” RRSOptional (0.819709ms)
Waiting for the debugger to disconnect...
Debugger listening on ws://127.0.0.1:50065/96714d68-b38f-4271-8643-8d967fad884b
For help, see: https://nodejs.org/en/docs/inspector
Debugger attached.
â–¶ TestPackage
  âœ” How to use TestPackage.run(rrs, cache) to verify package status? (8.644583ms)
  âœ” How to use TestPackage.render(rrs, options) to generate markdown table? (0.56175ms)
  âœ” should create TestPackage instance with default values (0.148583ms)
  âœ” should create TestPackage instance from existing TestPackage instance (0.313375ms)
  âœ” should create new TestPackage instance from plain object (0.382833ms)
  âœ” should render table header if head option is true (0.24975ms)
  âœ” should render table body if body option is true (0.18225ms)
  âœ” should render only specified columns (0.277ms)
  âœ” should render documentation links correctly (0.2275ms)
  âœ” should render documentation links correctly without test (0.248125ms)
  âœ” should render npm info correctly (0.077917ms)
  âœ” should return plain object representation with toObject() (0.114792ms)
âœ” TestPackage (12.428209ms)
Waiting for the debugger to disconnect...
Debugger listening on ws://127.0.0.1:50082/0e485fac-9095-41d4-85e4-c8e7de0ee6e1
For help, see: https://nodejs.org/en/docs/inspector
Debugger attached.
â–¶ CoverageCommand
  âœ” should parse CoverageCommandMessage with default options (0.565833ms)
  âœ” should parse CoverageCommandMessage with custom options (1.378792ms)
âœ” CoverageCommand (3.84725ms)
Waiting for the debugger to disconnect...
Debugger listening on ws://127.0.0.1:50083/b6bd1323-baaf-4b5f-81c1-c0401cc31fed
For help, see: https://nodejs.org/en/docs/inspector
Debugger attached.
â–¶ ParseCommand
  âœ” should parse ParseCommandMessage with default options (1.215792ms)
  âœ” should map alias options correctly (0.215542ms)
  âœ” should accept format option and validate it (0.175417ms)
  âœ” should reject invalid format option (0.237542ms) # TODO
  âœ” should filter only fail messages (0.063792ms)
âœ” ParseCommand (2.709ms)
Waiting for the debugger to disconnect...
Debugger listening on ws://127.0.0.1:50084/e9791b29-e583-4046-a11a-c045a4276da4
For help, see: https://nodejs.org/en/docs/inspector
Debugger attached.
ðŸ“¦ Package: @nan0web/test
Starting tests























ðŸ’¾ Results saved to ./me.md
ðŸ“¦ Package: @nan0web/test
Starting tests











ðŸ’¾ Results saved to ./me.md
â–¶ RunCommand
  âœ” should import RunCommand (0.595666ms)
  âœ” should run all test scripts and save to me.md (5.6855ms)
  âœ” should handle missing package name (0.960875ms)
  âœ” should only run existing scripts (1.435917ms)
âœ” RunCommand (9.691958ms)
Waiting for the debugger to disconnect...
Debugger listening on ws://127.0.0.1:50085/d918845c-33fd-4f00-ae8c-2cd34ef8fa10
For help, see: https://nodejs.org/en/docs/inspector
Debugger attached.
â–¶ StatusCommand
  âœ” should parse StatusCommandMessage with default options (2.57375ms)
  âœ” should map alias options correctly (0.214708ms)
  âœ” should accept format option and validate it (1.218459ms)
  âœ” should reject invalid format option (1.980875ms)
âœ” StatusCommand (7.364875ms)
Waiting for the debugger to disconnect...
Debugger listening on ws://127.0.0.1:50086/405e1358-beb5-48a9-b458-105361ef9119
For help, see: https://nodejs.org/en/docs/inspector
Debugger attached.
â–¶ runSpawn
  âœ” should spawn a process and resolve with output and exit code (22.617708ms)
  âœ” should handle custom onData callback (6.801083ms)
  âœ” should resolve even if process fails (6.540916ms)
âœ” runSpawn (38.564583ms)
Waiting for the debugger to disconnect...
Debugger listening on ws://127.0.0.1:50087/5255a2fc-800b-4727-8895-3048f3aa6088
For help, see: https://nodejs.org/en/docs/inspector
Debugger attached.
â–¶ jsdom
  âœ” should setup DOM environment and localStorage mock (331.812917ms)
  âœ” should not override existing DOM globals (0.946208ms)
âœ” jsdom (333.779917ms)
Waiting for the debugger to disconnect...
Debugger listening on ws://127.0.0.1:50088/62e6bf80-d305-4cc3-8233-5175a2c79692
For help, see: https://nodejs.org/en/docs/inspector
Debugger attached.
â–¶ MemoryDB
  âœ” should initialize with predefined data (1.696916ms)
  âœ” should list directory contents correctly (1.030542ms)
  âœ” should resolve paths synchronously (0.317417ms)
  âœ– should calculate relative paths (0.805958ms) # TODO
  âœ” should log access requests (1.192792ms)
  âœ” should reject invalid access levels (0.374584ms)
  âœ” should properly extract db (3.670875ms)
âœ” MemoryDB (10.429459ms)
Waiting for the debugger to disconnect...
â„¹ tests 72
â„¹ suites 16
â„¹ pass 70
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 2
â„¹ duration_ms 2020.836792

âœ– failing tests:

test at src/mock/MemoryDB.test.js:46:5
âœ– should calculate relative paths (0.805958ms) # TODO
  AssertionError [ERR_ASSERTION]: Expected values to be strictly equal:
  actual expected

  '/root/dir/file.txt/'

      at TestContext.<anonymous> (file:///Users/i/src/nan.web/packages/test/src/mock/MemoryDB.test.js:49:10)
      at Test.runInAsyncScope (node:async_hooks:214:14)
      at Test.run (node:internal/test_runner/test:1047:25)
      at Suite.processPendingSubtests (node:internal/test_runner/test:744:18)
      at Test.postRun (node:internal/test_runner/test:1173:19)
      at Test.run (node:internal/test_runner/test:1101:12)
      at async Suite.processPendingSubtests (node:internal/test_runner/test:744:7) {
    generatedMessage: true,
    code: 'ERR_ASSERTION',
    actual: '/root/dir/file.txt/',
    expected: 'dir/file.txt',
    operator: 'strictEqual',
    diff: 'simple'
  }
